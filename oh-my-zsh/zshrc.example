# Oh My Zsh 配置文件
# 这是一个精简、清晰的配置示例

# ===== 基础设置 =====

# 语言设置
export LANG=zh_CN.UTF-8

# Oh My Zsh 安装路径
export ZSH="$HOME/.oh-my-zsh"

# ===== 插件配置 =====

# 插件列表（按功能分类）
plugins=(
    # Git 支持
    git
    
    # 智能增强
    zsh-autosuggestions      # 命令建议（需安装）
    zsh-syntax-highlighting  # 语法高亮（需安装）
    zsh-autocomplete         # 自动补全（需安装）
    
    # 实用工具
    copypath                 # 复制路径
    copyfile                 # 复制文件
    copybuffer               # 复制命令行（Ctrl+O）
    you-should-use           # 别名提醒（需安装）
    sudo                     # 双击Esc添加sudo
)

# 加载 Oh My Zsh
source $ZSH/oh-my-zsh.sh

# ===== 插件配置 =====

# You-Should-Use 插件：将提示信息显示在命令输出后
export YSU_MESSAGE_POSITION="after"

# ===== 编辑器配置 =====

# 使用 Neovim 作为默认编辑器
alias vim="nvim"
alias vi="vim"
alias zshconfig="nvim ~/.zshrc"

# ===== 文件操作别名 =====

# 使用现代化工具替代传统命令
alias ee="exa -lh"           # 更好的 ls（需安装 exa）
alias cat="bat"              # 带语法高亮的 cat（需安装 bat）

# 快捷工具
alias cht="cht.sh"           # 命令速查（需安装）

# ===== PATH 配置 =====

# 添加本地 bin 目录
export PATH="$HOME/.local/bin:$PATH"

# ===== Node.js 配置 (NVM) =====

# NVM 环境变量
export NVM_DIR="$HOME/.nvm"
# 加载 NVM（如果通过 Homebrew 安装）
[ -s "$(brew --prefix)/opt/nvm/nvm.sh" ] && source "$(brew --prefix)/opt/nvm/nvm.sh"

# ===== Java 配置 =====

# 自动设置 JAVA_HOME
export JAVA_HOME=$(/usr/libexec/java_home)
export PATH="$JAVA_HOME/bin:$PATH"

# ===== Docker 补全 =====

# Docker CLI 命令补全
if [ -d "$HOME/.docker/completions" ]; then
    fpath=($HOME/.docker/completions $fpath)
    autoload -Uz compinit
    compinit
fi

# ===== 工具集成 =====

# thefuck 命令纠错工具
if command -v thefuck &> /dev/null; then
    eval $(thefuck --alias)
    eval $(thefuck --alias FUCK)
fi

# Broot 文件管理器
[ -f "$HOME/.config/broot/launcher/bash/br" ] && source "$HOME/.config/broot/launcher/bash/br"

# Starship 提示符（放在最后）
if command -v starship &> /dev/null; then
    eval "$(starship init zsh)"
fi

# ===== Homebrew 镜像配置（中国大陆用户） =====

# 使用北京外国语大学镜像加速
export HOMEBREW_API_DOMAIN="https://mirrors.bfsu.edu.cn/homebrew-bottles/api"
export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.bfsu.edu.cn/homebrew-bottles"
export HOMEBREW_BREW_GIT_REMOTE="https://mirrors.bfsu.edu.cn/git/homebrew/brew.git"
export HOMEBREW_CORE_GIT_REMOTE="https://mirrors.bfsu.edu.cn/git/homebrew/homebrew-core.git"

# ===== Conda 初始化 =====

# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
# 如果你使用 Conda，它会在这里添加初始化代码
# <<< conda initialize <<<

# ===== 自定义配置 =====

# 在这里添加你的个人配置和别名
